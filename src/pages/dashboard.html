<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../dist/css/output.css" />
    <link rel="icon" href="../asset/svg/Logo_centralmadirense.svg" />
    <!-- fontawesone -->
    <script
      src="https://kit.fontawesome.com/a74559d35e.js"
      crossorigin="anonymous"
    ></script>
    <title>Dashboard CM</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      /* Para que el scroll no sea tosco y se vea profesional */
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: #d1d5db;
        border-radius: 10px;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <header class="sticky top-0">
      <nav
        class="bg-red-500 text-white p-2 shadow-lg flex justify-between items-center"
      >
        <div class="flex items-center space-x-3 gap-3">
          <div class="w-16 h-16 bg-white rounded-md">
            <img
              src="../asset/svg/Logo_centralmadirense.svg"
              alt="logoEmpresa"
              class="w-full h-full aspect-auto"
            />
          </div>
          <h1 class="text-xl font-bold tracking-tight lg:hidden">
            Sucuersal - 44
          </h1>
        </div>
        <div class="w-15 h-15 border-5 rounded-full lg:hidden">
          <img
            src="https://bitacoraeconomica.com/wp-content/uploads/2025/06/WhatsApp-Image-2025-06-15-at-2.20.21-PM.jpeg"
            alt="avatar"
            class="w-full h-full object-cover rounded-full aspect-auto"
          />
        </div>
        <div>
          <i class="fa-solid fa-shop"></i>
          <a href="../../index.html">Ir a la tienda</a>
        </div>
      </nav>
    </header>
    <main class="flex h-[calc(100vh-80px)]">
      <!-- menu desktop -->
      <aside
        class="w-1/5 bg-white border-r border-gray-200 hidden lg:flex flex-col sticky left-0 h-full"
      >
        <div class="p-6 border-b border-gray-100">
          <div class="flex items-center space-x-3">
            <div class="relative">
              <img
                src="tu-avatar.jpg"
                class="w-10 h-10 rounded-full border-2 border-red-500"
              />
              <span
                class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"
              ></span>
            </div>
            <div>
              <p class="text-xs text-gray-400 font-semibold uppercase">
                Administrador
              </p>
              <p class="text-sm font-bold text-gray-800">Sucursal 44</p>
            </div>
          </div>
        </div>

        <nav class="flex-1 p-4 space-y-2 overflow-y-auto custom-scrollbar">
          <div>
            <p
              class="text-[10px] font-bold text-gray-400 uppercase tracking-widest px-4 mb-2"
            >
              Gestion comercial
            </p>

            <a
              href="#"
              class="flex items-center justify-between p-3 text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-lg group transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-house"></i>
                <span class="font-medium">Inicio</span>
              </div>
            </a>

            <a
              href="#"
              class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-truck-moving"></i>
                <span class="font-medium">Ventas POS</span>
              </div>
            </a>
          </div>
          <div>
            <p
              class="text-[10px] font-bold text-gray-400 uppercase tracking-widest px-4 mb-2"
            >
              Operaciones
            </p>

            <a
              href="#"
              class="flex items-center justify-between p-3 text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-lg group transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-boxes-stacked"></i>
                <span class="font-medium">Kardex</span>
              </div>
              <span
                class="bg-red-100 text-red-600 text-[10px] font-bold px-2 py-0.5 rounded-full"
                >5 Alertas</span
              >
            </a>
            <a
              href="#"
              class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-truck-moving"></i>
                <span class="font-medium">Recepciones</span>
              </div>
            </a>
            <a
              href="#"
              class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-trash-can-arrow-up"></i>
                <span class="font-medium">Control de merma</span>
              </div>
            </a>
            <a
              href="#"
              class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-file-invoice-dollar"></i>
                <span class="font-medium">Ordenes de Compra</span>
              </div>
            </a>
            <a
              href="#"
              class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-dolly"></i>
                <span class="font-medium">Devoluciones</span>
              </div>
            </a>
          </div>
          <div>
            <p
              class="text-[10px] font-bold text-gray-400 uppercase tracking-widest px-4 mb-2"
            >
              RECURSOS HUMANOS
            </p>

            <a
              href="#"
              class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-fingerprint"></i>
                <span class="font-medium">Marcaje y personal</span>
              </div>
            </a>
            <a
              href="#"
              class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"
            >
              <div class="flex items-center space-x-3">
                <i class="fa-solid fa-key"></i>
                <span class="font-medium">Roles y permisos</span>
              </div>
            </a>
          </div>
        </nav>

        <div class="p-4 border-t border-gray-100">
          <button
            class="flex items-center space-x-3 text-gray-500 hover:text-red-600 transition w-full p-2"
          >
            <i class="fa-solid fa-right-from-bracket"></i>
            <span class="font-semibold">Cerrar Sesión</span>
          </button>
        </div>
      </aside>
      <!-- wrapper -->
      <div class="p-3 w-full overflow-y-auto h-full custom-scrollbar">
        <!-- Welcomen -->
        <section class="mb-3 md:hidden">
          <div class="flex justify-between items-center p-1">
            <h2 class="uppercase text-gray-500 font-bold">Hola, User</h2>
            <span id="fecha-actual" class="text-gray-400 italic"></span>
          </div>
        </section>
        <!-- estadisticas -->
        <section class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
          <div
            class="bg-white p-6 rounded-xl shadow-md border-l-8 border-green-500"
          >
            <p class="text-gray-500 text-sm font-semibold uppercase">
              Ventas Hoy
            </p>
            <p class="text-3xl font-bold text-gray-800">$45,200</p>
            <p class="text-green-500 text-xs mt-2">▲ 5.2% vs ayer</p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-md border-l-8 border-yellow-500"
          >
            <p class="text-gray-500 text-sm font-semibold uppercase">
              Ticket Promedio
            </p>
            <p class="text-3xl font-bold text-gray-800">$28.50</p>
            <p class="text-gray-400 text-xs mt-2">Sin variaciones críticas</p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-md border-l-8 border-blue-500"
          >
            <p class="text-gray-500 text-sm font-semibold uppercase">
              Tráfico Clientes
            </p>
            <p class="text-3xl font-bold text-gray-800">1,240</p>
            <p class="text-green-500 text-xs mt-2">En hora pico</p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-md border-l-8 border-red-500"
          >
            <p class="text-gray-500 text-sm font-semibold uppercase">
              Mermas (Merma %)
            </p>
            <p class="text-3xl font-bold text-gray-800">1.8%</p>
            <p class="text-red-500 text-xs mt-2">▼ 0.3% objetivo</p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-md border-l-8 border-purple-500"
          >
            <p class="text-gray-500 text-sm font-semibold uppercase">
              Asitencias AM
            </p>
            <p class="text-3xl font-bold text-gray-800">20</p>
            <p class="text-md font-bold text-gray-800">1.8%</p>
            <p class="text-red-500 text-xs mt-2">▼ 0.3% del total</p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-md border-l-8 border-purple-500"
          >
            <p class="text-gray-500 text-sm font-semibold uppercase">
              Asitencias PM
            </p>
            <p class="text-3xl font-bold text-gray-800">17</p>
            <p class="text-md font-bold text-gray-800">1.8%</p>
            <p class="text-red-500 text-xs mt-2">▼ 0.3% del total</p>
          </div>
        </section>
        <!-- Acciones rapidas -->
        <section class="mb-8 flex flex-col gap-2 lg:hidden">
          <h1 class="font-bold text-gray-700 uppercase">acciones rapidas</h1>
          <!-- opciones -->
          <nav class="flex justify-around">
            <a class="flex flex-col items-center w-fit p-1 cursor-pointer">
              <span class="text-blue-700 text-2xl">
                <i class="fa-solid fa-truck-moving"></i>
              </span>
              <p class="truncate w-full text-blue-700">Recepciones</p>
            </a>
            <a class="flex flex-col items-center w-fit p-1 cursor-pointer">
              <span class="text-orange-500 text-2xl">
                <i class="fa-solid fa-file-invoice-dollar"></i>
              </span>
              <p class="truncate w-full text-orange-600">Ordenes de compra</p>
            </a>
            <a class="flex flex-col items-center w-fit p-1 cursor-pointer">
              <span class="text-green-500">
                <i class="fa-solid fa-boxes-stacked"></i>
              </span>
              <p class="truncate w-full text-green-500">Inventario</p>
            </a>
          </nav>
        </section>
        <!-- flujo de ventas y stock critico -->
        <section class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
            <h3 class="text-lg font-bold mb-4 text-gray-700">
              Flujo de Ventas por Hora
            </h3>
            <canvas id="salesChart" height="150"></canvas>
          </div>

          <div class="bg-white p-6 rounded-xl shadow-md">
            <h3 class="text-lg font-bold mb-4 text-gray-700">
              Alertas de Stock Crítico
            </h3>
            <ul class="space-y-4">
              <li class="flex justify-between items-center border-b pb-2">
                <div>
                  <p class="font-bold text-gray-800">Harina PAN 1kg</p>
                  <p class="text-xs text-gray-500">Pasillo 4</p>
                </div>
                <span
                  class="bg-red-100 text-red-600 px-3 py-1 rounded-full text-xs font-bold"
                  >Queda: 45</span
                >
              </li>
              <li class="flex justify-between items-center border-b pb-2">
                <div>
                  <p class="font-bold text-gray-800">Leche Larga Vida</p>
                  <p class="text-xs text-gray-500">Lácteos</p>
                </div>
                <span
                  class="bg-red-100 text-red-600 px-3 py-1 rounded-full text-xs font-bold"
                  >Queda: 12</span
                >
              </li>
              <li class="flex justify-between items-center border-b pb-2">
                <div>
                  <p class="font-bold text-gray-800">Aceite Vegetal</p>
                  <p class="text-xs text-gray-500">Pasillo 2</p>
                </div>
                <span
                  class="bg-yellow-100 text-yellow-600 px-3 py-1 rounded-full text-xs font-bold"
                  >Queda: 120</span
                >
              </li>
            </ul>
            <button
              class="w-full mt-6 bg-red-500 text-white py-2 rounded-lg font-bold hover:bg-red-700 transition"
            >
              Ver Inventario Completo
            </button>
          </div>
        </section>
        <!-- kardex -->
        <section
          class="mt-8 bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500"
        >
          <div
            class="flex flex-col md:flex-row gap-2 justify-between items-center mb-6"
          >
            <div>
              <h3 class="text-lg font-bold text-gray-800">
                Kardex de Inventario - Movimiento de Almacén
              </h3>
              <p class="text-sm text-gray-500">
                Producto:
                <span class="font-bold text-red-500"
                  >Harina PAN 1kg
                  <strong>(SKU: 7591001) /</strong>
                  <strong>(CI: 7591001)</strong>
                </span>
              </p>
            </div>
            <div class="flex space-x-2">
              <input
                type="text"
                placeholder="Buscar SKU..."
                class="border rounded-lg px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cm-yellow"
              />
              <button
                class="bg-gray-800 text-white px-4 py-1 rounded-lg text-sm hover:bg-black"
              >
                Exportar PDF
              </button>
            </div>
          </div>

          <div class="overflow-x-auto">
            <table class="w-full text-sm text-left border-collapse">
              <thead class="bg-gray-50 text-gray-700 uppercase text-xs">
                <tr>
                  <th class="p-3 border-b" rowspan="2">Fecha</th>
                  <th class="p-3 border-b text-center" rowspan="2">
                    Concepto / Referencia
                  </th>
                  <th class="p-3 border-b text-center bg-green-50" colspan="3">
                    Entradas (Compras/Dev)
                  </th>
                  <th class="p-3 border-b text-center bg-red-50" colspan="3">
                    Salidas (Ventas/Merma)
                  </th>
                  <th class="p-3 border-b text-center bg-blue-50" colspan="3">
                    Existencias (Saldos)
                  </th>
                </tr>
                <tr class="text-[10px] bg-gray-100">
                  <th class="p-2 border-b">Cant.</th>
                  <th class="p-2 border-b">Costo U.</th>
                  <th class="p-2 border-b">Total</th>
                  <th class="p-2 border-b">Cant.</th>
                  <th class="p-2 border-b">Costo U.</th>
                  <th class="p-2 border-b">Total</th>
                  <th class="p-2 border-b">Cant.</th>
                  <th class="p-2 border-b">Costo U.</th>
                  <th class="p-2 border-b">Total</th>
                </tr>
              </thead>
              <tbody class="text-gray-600">
                <tr class="hover:bg-gray-50 border-b">
                  <td class="p-3 italic">01/02/2026</td>
                  <td class="p-3">Saldo Inicial</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-red-50">-</td>
                  <td class="p-2 bg-red-50">-</td>
                  <td class="p-2 bg-red-50">-</td>
                  <td class="p-2 bg-blue-50 font-bold">500</td>
                  <td class="p-2 bg-blue-50">$0.95</td>
                  <td class="p-2 bg-blue-50 font-bold">$475.00</td>
                </tr>
                <tr class="hover:bg-gray-50 border-b">
                  <td class="p-3">03/02/2026</td>
                  <td class="p-3">Factura Prov #9982 (Polar)</td>
                  <td class="p-2 bg-green-50 text-green-700 font-bold">200</td>
                  <td class="p-2 bg-green-50">$0.98</td>
                  <td class="p-2 bg-green-50 text-green-700">$196.00</td>
                  <td class="p-2 bg-red-50">-</td>
                  <td class="p-2 bg-red-50">-</td>
                  <td class="p-2 bg-red-50">-</td>
                  <td class="p-2 bg-blue-50 font-bold">700</td>
                  <td class="p-2 bg-blue-50">$0.96*</td>
                  <td class="p-2 bg-blue-50 font-bold">$671.00</td>
                </tr>
                <tr class="hover:bg-gray-50 border-b">
                  <td class="p-3">05/02/2026</td>
                  <td class="p-3">Ventas POS (Consolidado Día)</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-red-50 text-red-600 font-bold">450</td>
                  <td class="p-2 bg-red-50">$0.95</td>
                  <td class="p-2 bg-red-50 text-red-600">$427.50</td>
                  <td class="p-2 bg-blue-50 font-bold">250</td>
                  <td class="p-2 bg-blue-50">$0.96</td>
                  <td class="p-2 bg-blue-50 font-bold">$243.50</td>
                </tr>
                <tr class="hover:bg-gray-50 border-b">
                  <td class="p-3">06/02/2026</td>
                  <td class="p-3 text-red-500 font-medium">
                    Ajuste Merma (Bolsa Rota)
                  </td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-green-50">-</td>
                  <td class="p-2 bg-red-50 text-red-600 font-bold">5</td>
                  <td class="p-2 bg-red-50">$0.96</td>
                  <td class="p-2 bg-red-50 text-red-600">$4.80</td>
                  <td class="p-2 bg-blue-50 font-bold text-red-600">245</td>
                  <td class="p-2 bg-blue-50">$0.96</td>
                  <td class="p-2 bg-blue-50 font-bold">$238.70</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </div>
    </main>
    <script>
      // Fecha actual
      document.getElementById("fecha-actual").innerText =
        new Date().toLocaleDateString();

      // Configuración del Gráfico
      const ctx = document.getElementById("salesChart").getContext("2d");
      new Chart(ctx, {
        type: "line",
        data: {
          labels: ["8am", "10am", "12pm", "2pm", "4pm", "6pm", "8pm"],
          datasets: [
            {
              label: "Ventas en $",
              data: [2000, 5000, 12000, 8000, 15000, 22000, 18000],
              borderColor: "#e31e24",
              backgroundColor: "rgba(227, 30, 36, 0.1)",
              fill: true,
              tension: 0.4,
            },
          ],
        },
        options: {
          responsive: true,
          plugins: { legend: { display: false } },
        },
      });
    </script>
  </body>
</html>
